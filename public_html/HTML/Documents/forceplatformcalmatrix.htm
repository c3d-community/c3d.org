<?xml version="1.0" encoding="utf-8"?>
<html><head><title>FORCE_PLATFORM:CAL_MATRIX</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="additionalforceplatformparameters.htm"></a><a id="D2HNextAnchor" href="thetrialgroup.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="additionalparameters.htm">Additional Parameters</a><span class="d2h_breadcrumbsLinkSeparator"> &gt; </span><a class="d2h_breadcrumbsNormal" href="additionalforceplatformparameters.htm">Additional 
                  FORCE_PLATFORM parameters</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h3>FORCE_PLATFORM:CAL_MATRIX</h3>
<p class="MsoBodyText">A calibration matrix enables software applications to 
correct for cross talk between outputs of the force platform; software 
applications that use the full calibration matrix to correct for cross talk will 
typically provide more accurate results when compared to applications that only 
have access to the major diagonal component.</p>
<p class="MsoBodyText"><img style="HEIGHT: 132.8pt; WIDTH: 324pt" border="0" src="../ImagesExt/image9_55.png" alt="" /></p>
<p class="MsoBodyText"><i><span style="FONT-SIZE: 9pt">Figure </span></i><i><span style="FONT-SIZE: 9pt">43</span></i><i></i><i><span style="FONT-SIZE: 9pt"> - A 
typical manufacturer’s crosstalk matrix in supplied in 
Newton-meters</span></i></p>
<p class="MsoBodyText">Since the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX</span></span> parameter will be ignored, even 
if present, unless the force platform type is a supported <span class="ParameterChar"><span style="FONT-SIZE: 9pt">TYPE</span></span>, its 
inclusion in a C3D file does not automatically imply that it must be applied to 
the stored force data.  If the force data <span class="ParameterChar"><span style="FONT-SIZE: 9pt">TYPE</span></span> does not support the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX</span></span> then 
the force plate’s data must be scaled using the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> factors as described in detail 
in the chapter entitled <a href="calculatingscalevaluesforforceplates.htm">Calculating SCALE values for 
force plates</a>.</p>
<p class="MsoBodyText">Note that most force plate systems include some degree of 
variable amplification of the signals from the plate.  The amount of 
amplification applied to each force signal must be taken into account when 
applying the calibration matrix and is an important factor is the calculation of 
the correct <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> value for each force plate 
channel.</p>
<p class="MsoBodyText">The calibration matrix for each force platform must be 
applied to the measured channel outputs to obtain the corrected channel outputs 
according to the matrix equation:</p>
<p class="MsoBodyText"><span class="ParameterChar"><span style="FONT-SIZE: 9pt">[CAL_MATRIX]</span></span> Fmeasured = Fcorrected</p>
<p class="MsoBodyText">where the F’s are column vectors.  The elements of the 
calibration matrix will always be stored in column order i.e., for the first 
force platform using a 6x6 <span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX</span></span>:</p>
<p class="MsoBodyText"><span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX(1,1,1)</span></span> must contain the first 
element of the matrix.</p>
<p class="MsoBodyText"><span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX(6,1,1)</span></span> the last element of the 
first column.</p>
<p class="MsoBodyText"><span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX(1,2,1)</span></span> must contain the first 
element of the second column, etc.</p>
<p class="MsoBodyText">The first three rows of the supplied calibration matrix 
have units of force/Volt (e.g.  N/V) and the last three rows have units of 
moments/Volt (e.g.  N•m/V).  If the C3D file is using distance units 
of millimeters then the last three rows of the calibration matrix must have 
units of N•mm/V.  In order to convert from N•m/V to N•mm/V each element in 
the last three rows must be multiplied by 1000.</p>
<p class="MsoBodyText"><img style="HEIGHT: 141pt; WIDTH: 324pt" border="0" src="../ImagesExt/image9_56.png" alt="" /></p>
<p class="MsoBodyText"><i><span style="FONT-SIZE: 9pt">Figure </span></i><i><span style="FONT-SIZE: 9pt">44</span></i><i></i><i><span style="FONT-SIZE: 9pt"> - 
The crosstalk matrix with forces scaled in N-m and moments scaled in 
N-mm.</span></i></p>
<p class="MsoBodyText">Note that the analog channels associated with force 
platforms using the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX</span></span> must be scaled in Volts – see 
the earlier discussions for full details on calculating the analog scale values 
for each force platform type.  Sample data files and spreadsheets are 
available from the C3D web site that implements the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX</span></span> 
parameter calculations for the associated analog channels.</p>
<p class="MsoBodyText">When implementing the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX</span></span> parameter it is very important 
to be aware of the order in which the C3D format stores the elements of the 
matrix, the storage sequence is in column order (as in FORTRAN) and not row 
order (as in C and C++).  Also, every C3D file uses a consistent set of 
units throughout – thus while the force plate manufacturer usually supplies the 
moment calibration data in terms of N•m/V, the calibration matrix must store the 
moment data in N•mm/V if the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT</span></span> calibration and measurement units are 
millimeters.</p>
<p class="MsoBodyText" style="PAGE-BREAK-AFTER: avoid"><img style="HEIGHT: 463.5pt; WIDTH: 342pt" border="0" src="../ImagesExt/image9_57.png" alt="" /></p>
<p class="MsoCaption" style="MARGIN-LEFT: 0pt">Figure 45 - A hex dump of a 
CAL_MATRIX parameter</p>
<p class="MsoBodyText">For example, if we have a 6x6 <span class="ParameterChar"><span style="FONT-SIZE: 9pt">CAL_MATRIX</span></span> 
parameter stored in the C3D file then the first three rows will have units of 
newtons per Volt and the second three rows will have units of newton•millimeters 
per Volt (Nm/V * 1000):</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">C11 C12 C13 C14 C15 C16</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">C21 C22 C23 C24 C25 C26</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">C31 C32 C33 C34 C35 C36</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">C41 C42 C43 C44 C45 C46</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">C51 C52 C53 C54 C55 C56</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">C61 C62 C63 C64 C65 C66</span></p>
<p class="MsoBodyText">If the analog signals from the six force plate sensors are 
scaled as Volts in the column vector V</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">V1</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">V2</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">V3</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">V4</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">V5</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">V6</span></p>
<p class="MsoBodyText">Resulting in the corrected forces and moments as the column 
vector W</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">W1</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">W2</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">W3</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">W4</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">W5</span></p>
<p class="MsoBodyText" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">W6</span></p>
<p class="MsoBodyText">Then using the standard notation</p>
<p class="MsoBodyText" style="TEXT-INDENT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">W = C*V </span></p>
<p class="MsoBodyText">Note that W1 is computed by<span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;"></span></p>
<p class="MsoBodyText" style="TEXT-INDENT: 36pt"><span style="FONT-FAMILY: &quot;Calibri&quot;,&quot;sans-serif&quot;">W1 = C11*V1 +C12*V2 +C13*V3 +C14*V4 
+C15*V5 +C16*V6</span></p>
<p class="MsoBodyText">And that the resulting W1,W2,W3 will have units of newtons, 
and W4,W5,W6 will have units of newton•millimeters.</p>
<p class="MsoBodyText">The presence of the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">FORCE_PLATFORM:CAL_MATRIX</span></span> parameter in a 
C3D file means that users and researchers retain the ability to determine the 
quality of the force plate data in a C3D file in any environment instead of 
trusting that unseen calculations were performed correctly in the 
past.</p></div></div></body></html>
