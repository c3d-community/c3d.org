<?xml version="1.0" encoding="utf-8"?>
<html><head><title>Notes for programmers - Floating-point Analog Data</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="analogdatafloatingpointformat.htm"></a><a id="D2HNextAnchor" href="scalingresolution.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="the3dpointdatasection.htm">The 3D Point Data 
                  Section</a><span class="d2h_breadcrumbsLinkSeparator"> &gt; 
                  </span><a class="d2h_breadcrumbsNormal" href="analogdatastorage.htm">Analog Data Storage</a><span class="d2h_breadcrumbsLinkSeparator"> &gt; </span><a class="d2h_breadcrumbsNormal" href="analogdatafloatingpointformat.htm">Analog Data - 
                  Floating-point format</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h4>Notes for programmers - Floating-point Analog Data</h4>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">1.  
While data can be converted from <a onclick="return d2hpopup(event, this.href)" id="popup_103854" href="gloss_integer.htm">integer</a> to <a onclick="return d2hpopup(event, this.href)" id="popup_103852" href="gloss_floatingpoint1.htm">floating-point</a> without any loss of 
resolution, the precision of the reverse operation from floating-point to 
integer conversion is not guaranteed if the analog data has been pre-scaled and 
the analog <a onclick="return d2hpopup(event, this.href)" id="popup_103853" href="gloss_parameters.htm">parameters</a> have not been set correctly.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">2.  
To avoid potential problems during conversion, applications must always create 
and store the correct values for the parameters <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:GEN_SCALE</span></span>, <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> and 
<span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:OFFSE</span></span>T when storing analog data in 
floating-point C3D files.  These parameters contain vital information about 
the original source of the analog samples and should contain values that would 
scale the analog data correctly if applied to the data when the storage format 
is integer.  In most cases, when the analog data is sampled from an <a onclick="return d2hpopup(event, this.href)" id="popup_103855" href="gloss_adc.htm">ADC</a> storing these values provided important information 
about the data collection environment.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">3.  
The resolution of each analog sample is determined by the ADC that performs the 
analog to digital conversion. Analog data samples from a 16-bit ADC are no more 
accurate when stored in floating-point format than integer format, providing 
that the analog scales are set correctly.  If you do not set the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:GEN_SCALE</span></span>, 
<span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> and <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:OFFSET</span></span> 
parameter values accurately then there is no evidence that the analog data has 
been sampled and scaled accurately when stored as floating-point values. Storing 
data values that are scaled as millivolts must be performed by setting the 
appropriate <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> parameter.  Data that is 
written to the C3D file pre-scaled in millivolts (e.g. 0.008538) means that 
converting a C3D file from floating-point to integer format will return zero 
values for the pre-scaled channels unless the analog parameters have been set 
correctly.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">4.  
The analog scaling calculation converts the binary analog sample data from the 
ADC into physical world measurement defined by the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:UNITS</span></span> 
parameter, but note that the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:UNITS</span></span> value only documents the units 
of the calculated results, changing the parameter does not affect the scaling 
calculations.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">5.  
C3D files written using a floating-point storage format are always twice the 
size of the same C3D file written using an integer storage format and, in most 
cases, will have exactly the same resolution.</p></div></div></body></html>
