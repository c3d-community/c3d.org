<?xml version="1.0" encoding="utf-8"?>
<html><head><title>Notes for programmers - C3D Header</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="headerrecordfunction.htm"></a><a id="D2HNextAnchor" href="theparametersection.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="theheadersection.htm">The 
                  Header Section</a><span class="d2h_breadcrumbsLinkSeparator"> 
                  &gt; </span><a class="d2h_breadcrumbsNormal" href="headerrecordfunction.htm">Header Record 
                  function</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h4>Notes for programmers - C3D Header</h4>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">1.  
The first word in the C3D file header must be read as two <a onclick="return d2hpopup(event, this.href)" id="popup_103693" href="gloss_bytes.htm">bytes</a> so that it is unaffected by the C3D file <a onclick="return d2hpopup(event, this.href)" id="popup_103692" href="gloss_endian.htm">endian</a> format.  The first byte is a pointer 
that locates the start of the C3D parameter <a onclick="return d2hpopup(event, this.href)" id="popup_103691" href="gloss_section.htm">section</a>.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">2.  
The second byte in the C3D file header defines the data section storage format 
used by the C3D file.  The default value is an <a onclick="return d2hpopup(event, this.href)" id="popup_103694" href="gloss_ascii.htm">ASCII</a> “P” character (0x50 hex) that defines the 
storage format of the C3D file data section as XYZ coordinates with analog 
samples.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">3.  
When opening a C3D file you must determine the endian format of the file before 
reading any float-point point or <a onclick="return d2hpopup(event, this.href)" id="popup_103690" href="gloss_integer.htm">integer</a> values because the C3D file 
endian format affects all 32-bit <a onclick="return d2hpopup(event, this.href)" id="popup_103688" href="gloss_floatingpoint1.htm">floating-point</a> and 16-bit 
integers stored in the C3D file.  The endian format is determined by 
reading the parameter header record at the start of the parameter section.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">4.  
The C3D file format supports three endian formats.  All C3D applications 
must support each format to guarantee universal access to archived data and 
support other computing environments.  The <a href="http://www.c3d.org"><span style="FONT-FAMILY: &quot;Tahoma&quot;,&quot;sans-serif&quot;">c3d.org</span></a> web site contains 
sets of identical example files in all formats that can be used to verify that a 
new application accurately support all C3D formats.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">5.  
The C3D header words 4 and 5 are unsigned 16-bit integers that record the 
original raw frame numbers used to create the C3D file.  All applications 
reading a C3D file containing <a onclick="return d2hpopup(event, this.href)" id="popup_103689" href="gloss_3dpoint.htm">3D Point</a> data should ignore these 
two words because they are normally the frame numbers of the data that created 
the C3D file, as a result they may not be the C3D file frame numbers.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">6.  
The data in the C3D file can be synchronized with movie and animation videos by 
recording the original video frames in the <span class="ParameterChar"><span style="FONT-SIZE: 9pt"><a onclick="return d2hpopup(event, this.href)" id="popup_103695" href="gloss_trial.htm"><span class="ParameterChar"><span style="FONT-SIZE: 9pt">TRIAL</span></span></a></span></span> parameter group 
which offers support for odd/even video data frame synchronization.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">7.  
Software applications should always preserve the values of all header words 
marked reserved for future use or currently not used whenever a C3D file is 
rewritten.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">8.  
<a name="_Ref56931581" id="_Ref56931581">Applications that create or modify C3D files must always 
ensure that the C3D header section contains the identical copies of the values 
stored in the parameter section (e.g., </a><span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:DATA_START</span></span>, <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:RATE</span></span>, <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:RATE</span></span> 
etc.).  A C3D file is corrupted if there is a discrepancy between header 
record values and parameter section values for the same items.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">9.  
<a name="_Ref63388401" id="_Ref63388401">When header word 150 is not zero and contains the key value 
(0x3039h) this indicates that the C3D file supports the storage of header event 
labels containing up to four ASCII characters even if the event group parameter 
storage is the default method.</a>  Both event storage methods can be used 
independently.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">10. All 
applications accessing C3D files need to support the header events as an event 
storage method although <span class="ParameterChar"><span style="FONT-SIZE: 9pt">EVENT</span></span> group parameter storage is a common 
alternative.</p></div></div></body></html>
