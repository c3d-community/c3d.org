<?xml version="1.0" encoding="utf-8"?>
<html><head><title>The C3D frame count</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="appendix.htm"></a><a id="D2HNextAnchor" href="readingtheframecount.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="appendix.htm">Appendix</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h2>The C3D frame count</h2>
<p class="MsoBodyText">Potentially there are multiple <a onclick="return d2hpopup(event, this.href)" id="popup_104119" href="gloss_parameters.htm">parameters</a> in a C3D file that may describe the 
frame count, a complex situation that exists because some manufacturers creating 
C3D files have extended the original C3D format without fully considering how 
their changes affect the C3D standard.</p>
<p class="MsoBodyText">Initially C3D files recorded the total number of frames in 
the C3D file as a signed 16-bit <a onclick="return d2hpopup(event, this.href)" id="popup_104121" href="gloss_integer.htm">integer</a> parameter which, while 
limiting the maximum frame count to 32767 frames, supported data collections 
nine minutes long at a 60Hz frame rate.  When C3D files were first created 
this fulfilled all motion capture requirements but, as data video frame rates 
increased, it restricted the length of a 240Hz frame rate data collection to 
just over two minutes, which presented a problem in sports applications.</p>
<p class="MsoBodyText">Once FORTRAN-95 was released, supporting unsigned integers, 
the signed 16-bit integer frame limit was extended to 65535 frames by changing 
the interpretation of many of the stored 16-bit integer values in the C3D file 
from signed to unsigned integers.  This doubled the potential size of the 
integer frame count and the length of the data collection without making any 
changes at a binary level to the C3D file, requiring only minor updates to 
user’s applications to support the extended frame range.  A 60Hz, 3D 
sampling rate now supported data collections eighteen minutes long, while a 
240Hz rate could create C3D files containing almost five minutes of high speed 
<a onclick="return d2hpopup(event, this.href)" id="popup_104122" href="gloss_3ddata.htm">3D data</a>.</p>
<p class="MsoBodyText">But as the C3D file format became used by the film industry 
the frame count limit became an issue and, although the ability to store the 
<span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:FRAMES</span></span> parameter as a <a onclick="return d2hpopup(event, this.href)" id="popup_104118" href="gloss_floatingpoint1.htm">floating-point</a> value was discussed, Vicon 
Motion Systems created a <span class="ParameterChar"><span style="FONT-SIZE: 9pt"><a onclick="return d2hpopup(event, this.href)" id="popup_104123" href="gloss_trial.htm"><span class="ParameterChar"><span style="FONT-SIZE: 9pt">TRIAL</span></span></a></span></span> group to record the 
frame range as two 32-bit integers, storing the first field number and last 
field number using a unique method that is not part of the C3D standard.  
Although this parameter was not fully documented, it may have been created to 
allow the recorded 3D data to be synchronized with video film images by 
supporting odd and even 3D fields within each video image frame.  </p>
<p class="MsoBodyText">Because the new <span class="ParameterChar"><span style="FONT-SIZE: 9pt">TRIAL</span></span> parameter was not officially 
documented, a new floating-point <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:LONG_FRAMES</span></span> parameter was created by 
C-Motion to store large <a onclick="return d2hpopup(event, this.href)" id="popup_104120" href="gloss_3dframe.htm">3D frame</a> counts generated by their 
Visual3D analysis tool which processes 3D data collected by many different 
manufacturers. </p>
<p class="MsoBodyText">The independent creation of different methods of storing 
the C3D frame count has created a complex situation when an application opens a 
C3D file and attempts to determine the C3D frame count.</p>
<p class="RelatedHead">More:</p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="readingtheframecount.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />Reading the frame count</a></p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="writingthec3dframecount1.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />Writing the C3D frame count</a></p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="updatingthec3dframecount1.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />Updating the C3D frame count</a></p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="maintainingc3dframecountcompatibility1.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />Maintaining C3D frame count 
compatibility</a></p></div></div></body></html>
