<?xml version="1.0" encoding="utf-8"?>
<html><head><title>Notes for programmers - Parameters and Groups</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="lockedparameters1.htm"></a><a id="D2HNextAnchor" href="the3dpointdatasection.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="theparametersection.htm">The 
                  Parameter Section</a><span class="d2h_breadcrumbsLinkSeparator"> 
                  &gt; </span><a class="d2h_breadcrumbsNormal" href="c3dgroupsandparameters.htm">C3D Groups and 
                  Parameters</a><span class="d2h_breadcrumbsLinkSeparator"> &gt; 
                  </span><a class="d2h_breadcrumbsNormal" href="lockedparameters1.htm">Locked Parameters</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h4>Notes for programmers - Parameters and Groups</h4>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">1.  
All parameter and group names must be stored using 7-bit <a onclick="return d2hpopup(event, this.href)" id="popup_103763" href="gloss_ascii.htm">ASCII</a> format <a onclick="return d2hpopup(event, this.href)" id="popup_103756" href="gloss_characters.htm">characters</a> to maintain compatibility with 
applications that read C3D files.  <a onclick="return d2hpopup(event, this.href)" id="popup_103762" href="gloss_utf8.htm">UTF-8</a> encoding is not allowed for the group and 
parameter names.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">2.  
The parameter and group formats both support an ASCII description string which 
should always provide information about the item and its use to document the 
information stored in the file.  UTF-8 encoding is permitted for user 
entered values and internal data descriptions to make the C3D format 
internationally flexible, allowing users to describe their data in local 
language terms and international character sets, e.g. <span style="FONT-FAMILY: &quot;MS Mincho&quot;">左足先マーカー</span>, Vänster tå markör, Marciwr toe 
chwith, or Left toe marker.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">3.  
Always spell group and parameter names correctly – a software application that 
expects to read data from a parameter called <span class="ParameterChar"><span style="FONT-SIZE: 9pt">OFFSET</span></span> will probably fail to find it if the 
parameter has been spelt incorrectly as <span class="ParameterChar"><span style="FONT-SIZE: 9pt">OFFSETS</span></span>.  Although the original C3D 
specification stated that the first six characters must be unique, the 
specification does not require that applications treat similar parameter names 
in the same way.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">4.  
The storage order of multi-dimensioned array <a onclick="return d2hpopup(event, this.href)" id="popup_103755" href="gloss_parameters.htm">parameters</a> follows the FORTRAN convention.  
In this format, the dimension that changes more rapidly appears first.  For 
example, the reconstruction volume (parameter “<span class="ParameterChar"><span style="FONT-SIZE: 9pt">DATA_LIMITS</span></span>” in group “<span class="ParameterChar"><span style="FONT-SIZE: 9pt">SEG</span></span>”) is made up 
from two 3D vectors stored in the order MinX, MinY, MinZ, MaxX, MaxY, MaxZ. 
Using the convention, this is defined as a 3 by 2 array.  Therefore, the 
correct definition for the parameter is Number of parameter dimensions = 2, 
Value of 1<sup>st</sup> dimension = 3, Value of 2<sup>nd</sup> dimension = 
2.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">5.  
Programmers for whom C, Java, Python, etc., is their primary language need to 
remember that <a onclick="return d2hpopup(event, this.href)" id="popup_103760" href="gloss_arrays.htm">arrays</a> in the C3D file are stored using FORTRAN 
conventions.  In C3D files the elements are stored in column order.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">6.  
The parameter data <a onclick="return d2hpopup(event, this.href)" id="popup_103759" href="gloss_section.htm">section</a> ends when the index to the 
next item is zero.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">7.  
There is no count stored for the number of parameters in each group and all 
group and parameter <a onclick="return d2hpopup(event, this.href)" id="popup_103757" href="gloss_records.htm">records</a> can appear in any 
order.  This means that it is permissible for a parameter to appear in the 
parameter section before the group information and software accessing a C3D file 
should be prepared to deal with this situation.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">8.  
Parameters are connected to groups by use of the group ID number.  Group 
records have unique ID numbers within the file, which are stored as a negative 
value in byte 2.  All parameters belonging to a group will store the same 
ID as a positive value, also in byte 2.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">9.  
Always use the absolute value of the first byte to determine the length of the 
parameter name.  This value may be set to a negative value to indicate that 
the data item has been marked as locked and should not be edited.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">10. 
Traditionally, all integers used in the parameter section were  stored as 
one's complement signed integers with a range of –32767 to +32767 and all <a onclick="return d2hpopup(event, this.href)" id="popup_103761" href="gloss_bytes.htm">bytes</a> were one's complement signed bytes with a range 
of –127 to +127.  However, some parameters may use unsigned integers to 
store data that will never have a negative value.  There is no flag to 
indicate that a C3D file uses unsigned integers in the parameter section.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">11. Be 
aware that a group ID number may not be the same for a given parameter 
throughout a set of files.  Group ID numbers are required to be internally 
consistent in a single C3D file but may vary even within successive saves or 
copies of the same file.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">12. All 
C3D files require a minimum set of parameters in order to be portable across 
different environments – always ensure that the minimum set of C3D parameters 
are present in every C3D file.  For example, all C3D files should include 
the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">FORCE_PLATFORM:USED</span></span> parameter even if the 
value is 0 so that applications that process force data know that the file 
contains no force data.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">13. 
Always look before you leap – all C3D software applications must test that 
parameters exist and determine the parameter format before they try to read them 
– never assume that any parameter has a specific format.  For example some 
manufacturers store the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">MANUFACTURER:VERSION</span></span> parameter as a number 
while others store it as a text string or an array.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">14. Do 
not assume that just because a parameter exists and has the name that you 
expect, that it will contain the same type of data.  The parameter 
structure provides a means to determine the type of the parameter (<a onclick="return d2hpopup(event, this.href)" id="popup_103754" href="gloss_floatingpoint1.htm">floating-point</a>, signed <a onclick="return d2hpopup(event, this.href)" id="popup_103758" href="gloss_integer.htm">integer</a>, character etc.) before you read it.  
The consequences of reading an integer value by default, when the parameter data 
structure turns out to be floating-point may cause applications to fail.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">15. 
This documentation describes the expected and conventional parameter types but 
the C3D format was designed to be flexible and applications reading C3D files 
must always determine the parameter type before reading the data from the 
parameter.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">16. 
Applications that modify C3D files must take care to preserve all groups and 
parameters from the original input file even if the application does not use or 
understand the parameters.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">17. 
When an application creates parameter records, it is sensible to make sure that 
the records are created with some reasonable values – if the parameter values 
are unknown when the parameter is created then the parameter contents should be 
set to some convenient null value – ASCII spaces or 0.0 for instance.</p>
<p class="MsoBodyText" style="MARGIN: 5pt 0pt 6pt 36pt; TEXT-INDENT: -18pt; tab-stops: 180.0pt">18. 
Although the capability exists, in practice parameter Groups are not 
locked.  Locking is only used for individual parameters within Groups to 
flag items that that contain critical values within the C3D file 
structure.</p></div></div></body></html>
