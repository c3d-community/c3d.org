<?xml version="1.0" encoding="utf-8"?>
<html><head><title>Sample Rate Limitations</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="choosingac3dformat1.htm"></a><a id="D2HNextAnchor" href="c3dparameters.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="appendix.htm">Appendix</a><span class="d2h_breadcrumbsLinkSeparator"> &gt; </span><a class="d2h_breadcrumbsNormal" href="choosingac3dformat1.htm">Choosing a C3D format</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h3>Sample Rate Limitations</h3>
<p class="MsoBodyText">All C3D files support a single sample rate for <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT</span></span> data and a 
single sample rate for <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG</span></span> data.  The <span class="ParameterChar"><span style="FONT-SIZE: 9pt"><a onclick="return d2hpopup(event, this.href)" id="popup_104192" href="gloss_analogsamplerate.htm"><span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG</span></span> sample rate</a></span></span> is 
always either the same as the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT</span></span> rate or an <a onclick="return d2hpopup(event, this.href)" id="popup_104197" href="gloss_integer.htm">integer</a> multiple of the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT</span></span> rate.  
While this may seem restrictive, it ensures that the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG</span></span> data is 
always stored in synchronization with the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT</span></span> data.  In addition, this 
restriction allows any application to easily calculate the exact location of any 
individual frame of data within the C3D file thus making data access simpler and 
faster and regardless of the length of the data collection, ensured that the 
analog samples can always be synchronized with the <a onclick="return d2hpopup(event, this.href)" id="popup_104198" href="gloss_3ddata.htm">3D data</a> samples.</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 0pt">In a data collection environment 
where multiple sensors exist that are being sampled at different rates, the C3D 
format expects that the data collection system recording the data will resolve 
these sampling issues and generate a C3D file with a single analog sample rate 
once the data collection is completed.  So the approach to support 
different analog devices, each with a unique sample rate, is essentially a 
hardware data collection issue.  <a onclick="return d2hpopup(event, this.href)" id="popup_104191" href="datacollectionsystems.htm">Data collection systems</a> can record a <a onclick="return d2hpopup(event, this.href)" id="popup_104195" href="gloss_rawdata.htm">raw data</a> file (or files) from devices with multiple 
sample rates and then process each data stream to generate a single sample rate 
that is a multiple of the <a onclick="return d2hpopup(event, this.href)" id="popup_104196" href="gloss_3dframe.htm">3D frame</a> rate, and write that to 
the C3D file.</p>
<p class="MsoBodyText">If a data collection system has three incoming data 
streams, e.g. video data at 120Hz frame rate, EMG data sampled at 900 samples a 
second (450Hz bandwidth), and force plate data at 50 samples/sec (25Hz 
bandwidth) then the data collection system writes the data to the C3D file at a 
common analog sample rate that is a multiple of the video frame rate - in this 
example it is 1800 samples/sec which means that the C3D file will be written 
with 15 analog samples from each data source per 3D frame.</p>
<p class="MsoBodyText">This creates a synchronization lock and maintains the 
analog signal bandwidth - there will be 15 analog samples per channel, per 120Hz 
frame which effectively translates writing two EMG samples to the C3D file for 
each sample that the EMG system sends, and 36 force data samples for each sample 
that the force plate sends.  The data recorded in the C3D file will be 
accurate measurements of the data from the sensors.  Optionally the data 
collection system can resample the incoming data to make the recorded data look 
like it has been sampled at a higher bandwidth but this is effectively 
pre-processing the sensor data and should not be the default option although it 
might be needed if a sensor has a sample rate that doesn’t match the 3D sample 
rate.</p>
<p class="MsoBodyText">While the C3D format stores data synchronized to the 3D 
frame data, an "analog channel" is essentially just a stream of 16-bit data with 
associated <a onclick="return d2hpopup(event, this.href)" id="popup_104194" href="gloss_parameters.htm">parameters</a> that describe the stored 
values.  It is written frame by frame in the C3D file with the physical 
synchronization determined by the data collection system that writes the 
file.  When the data is read, users assume that it's been written on a 
frame by frame lock but that is not always the case.  When analog data is 
sampled from a hardware system with significant latencies (a common issue in 
Wi-Fi and Bluetooth radio-telemetry) the delayed data may be written to the C3D 
file causing a loss of synchronization, potentially causing post-collection 
analysis and data processing issues if the individual sensor latency has not 
been verified.</p>
<p class="MsoBodyText">While the C3D format writes the <a onclick="return d2hpopup(event, this.href)" id="popup_104193" href="gloss_analogdatasample.htm">analog data sample</a> in sync with the 3D 
frames, the actual relationship between the data is determined by the software 
that creates the C3D file.  A potential problem exists when the sensors 
generate digital samples that are presented to the C3D file creation environment 
at a unique sample rate that needs to be resynchronized to the video frame rate, 
resulting in potential sampling errors and undocumented latencies.  As a 
result the data resampling results in C3D files that only store calculated 
values, not physical measurements.</p></div></div></body></html>
