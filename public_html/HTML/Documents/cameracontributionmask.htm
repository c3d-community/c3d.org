<?xml version="1.0" encoding="utf-8"?>
<html><head><title>Camera Contribution Mask</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="3dpointresiduals.htm"></a><a id="D2HNextAnchor" href="analogdatastorage.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="the3dpointdatasection.htm">The 3D Point Data 
                  Section</a><span class="d2h_breadcrumbsLinkSeparator"> &gt; 
                  </span><a class="d2h_breadcrumbsNormal" href="description1.htm">Description</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h3>Camera Contribution Mask</h3>
<p class="MsoBodyText">In addition to a 3D <a onclick="return d2hpopup(event, this.href)" id="popup_103822" href="gloss_residual.htm">residual</a> value, the 3D coordinate format can also 
provide information about which observers (generally but not necessarily, 
cameras) provided the information used to calculate the associated <a onclick="return d2hpopup(event, this.href)" id="popup_103823" href="gloss_3dpoint.htm">3D point</a> location.  This information is called 
the “<a onclick="return d2hpopup(event, this.href)" id="popup_103820" href="gloss_cameracontribution.htm">camera contribution</a>” or “camera mask” 
and is stored, together with the 3D residual, in the fourth word of the 3D point 
record.</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 0pt">The <a onclick="return d2hpopup(event, this.href)" id="popup_103818" href="cameramaskcanbeveryuseful.htm">camera mask can be very useful</a>, 
particularly when used in conjunction with the residual data as it provided 
information that can allow the user to evaluate the data quality.  Since 
the camera mask tells us which cameras (or observers) were used to construct any 
given 3D point, is can be quite easy to identify a poor observer (or poorly 
calibrated camera) simply by noticing that the residuals increase when a 
particular camera is used to calculate the 3D point.  Typically, this shows 
up as a sudden jump in the point trajectory data when the offending observer 
contributes faulty positional information.  Careful observation of noise 
levels of individual trajectories within the data collection volume can lead to 
improvements in the overall system accuracy by enabling the photogrammetry 
software to eliminate cameras or observation sources that are not performing 
well.</p>
<p class="MsoBodyText">Improvements in the automation of data collection, together 
with an increase in the number of cameras in motion capture systems make the 
routine evaluation of the camera mask an essential part of quality 
control.  In addition, engineers configuring an automated motion capture 
environment for the first time or changing an existing laboratory configuration 
can directly assess the entire data collection process (data collection, 
trajectory identification and generation) by careful evaluation of the camera 
mask and residual values within a C3D file.</p>
<p class="MsoBodyText" style="PAGE-BREAK-AFTER: avoid"><img style="HEIGHT: 47.3pt; WIDTH: 342pt" border="0" src="../ImagesExt/image9_26.png" alt="" /></p>
<p class="MsoCaption" style="MARGIN-LEFT: 0pt">Figure 28 - 3D point camera 
contribution</p>
<p class="MsoBodyText">The camera contribution mask example shown above is found 
in word 4 of the signed <a onclick="return d2hpopup(event, this.href)" id="popup_103824" href="gloss_integer.htm">integer</a> 3D point data.  In the 
camera contribution mask, byte 1 of word 4 contains eight bits, seven of which 
are set corresponding to the observers that contributed to the points 
measurement.  Bit-1 refers to the first camera, bit-2 to the second 
etc.</p>
<p class="MsoBodyText">The camera contribution byte is part of the 16-bit signed 
integer used to store the 3D residual and as a result, bit-8 is not available to 
store camera mask information as it stores the sign of the 16-bit signed 
integer.  Note that, for compatibility, and to simplify data access 
functions, the same signed-integer format is retained internally even when the 
3D points are stored using the <a onclick="return d2hpopup(event, this.href)" id="popup_103821" href="gloss_floatingpoint1.htm">floating-point</a> format.</p>
<p class="MsoBodyText">In the original C3D format there was no provision for 
recording the contribution of more than seven observers or the requirement that 
these bits are actually used when a C3D file is created.  As a result, as 
the number of cameras used to record motion has increased, many manufacturers 
have abandoned recording any camera contribution data even for systems with less 
than eight cameras.  This is unfortunate because documenting the observer 
(or potentially sensor) contribution to each calculated 3D location is very 
helpful when setting up a 3D motion capture environment or debugging problems 
with any camera or sensor configuration.</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 0pt">The <a onclick="return d2hpopup(event, this.href)" id="popup_103819" href="cameramask.htm">camera mask</a> enables users to determine which cameras 
failed to contribute data to the calculated 3D location, frame by frame 
throughout the entire data collection so that if a marker always disappears when 
the subject walks through the data collection volume it is very easy to identify 
which cameras that are failing to record the marker on a frame by frame basis 
while documenting that other cameras always record the marker.  Knowing the 
camera contributions means that marker visibility problems can usually be solved 
by moving a camera location a few inches, or replacing a faulty camera instead 
of buying more cameras.  Reviewing the camera contributions in a typical 
operating environment make it easy to demonstrate which cameras are ideally 
located and which camera locations should be moved.</p>
<p class="MsoBodyText">The camera contribution bits are usually cleared if the 
associated 3D point has been modeled, interpolated, filtered, or otherwise 
modified.  As a result, the presence of an active camera contribution mask 
will normally indicate that the associated <a onclick="return d2hpopup(event, this.href)" id="popup_103825" href="gloss_3ddata.htm">3D data</a> point is a raw measurement and has not been 
filtered or modified in any way.</p></div></div></body></html>
