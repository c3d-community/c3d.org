<?xml version="1.0" encoding="utf-8"?>
<html><head><title>Description</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="the3dpointdatasection.htm"></a><a id="D2HNextAnchor" href="3ddataintegerformat.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="the3dpointdatasection.htm">The 3D Point Data 
                  Section</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h2>Description</h2>
<p class="MsoBodyText" style="MARGIN-LEFT: 0pt">All related <a onclick="return d2hpopup(event, this.href)" id="popup_103775" href="gloss_3dpoint.htm">3D point</a> and analog data samples are written as 
sequential frames <a onclick="return d2hpopup(event, this.href)" id="popup_103771" href="starting.htm">starting</a> in the 512-byte <a onclick="return d2hpopup(event, this.href)" id="popup_103781" href="gloss_block.htm">block</a> in the C3D file specified by the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:DATA_START</span></span> 
parameter.  If each frame contains both 3D point and analog information 
then the 3D point data is written first, starting with the first frame of data, 
followed by multiple analog data samples associated with the <a onclick="return d2hpopup(event, this.href)" id="popup_103776" href="gloss_3dframe.htm">3D frame</a>.  If there is only a single type of 
data (either 3D point data, or only analog data) then the data <a onclick="return d2hpopup(event, this.href)" id="popup_103780" href="gloss_section.htm">section</a> will simply consist of sequential frames of 
data samples.</p>
<p class="MsoBodyText">The <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:DATA_START </span></span>parameter is an unsigned 
16-bit <a onclick="return d2hpopup(event, this.href)" id="popup_103778" href="gloss_integer.htm">integer</a> that points to the location of the start of 
the 3D/analog data section within the C3D file, allowing the 3D/analog section 
to start anywhere within the first 32Mb (65535*512/1024) of the C3D file.</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 0pt">3D point locations and analog data 
samples may be stored in either <a onclick="return d2hpopup(event, this.href)" id="popup_103772" href="signed16bitintegersor32bitfloatingpoint.htm">signed 16-bit 
integers or 32-bit floating-point</a> format.  Whichever method is selected 
applies to both the 3D point and the analog data <a onclick="return d2hpopup(event, this.href)" id="popup_103777" href="gloss_records.htm">records</a> within the C3D file.  If the 3D point 
data is stored in <a onclick="return d2hpopup(event, this.href)" id="popup_103774" href="gloss_floatingpoint1.htm">floating-point</a> format, then the analog data 
must also be stored in floating-point format.  It is not possible to mix 
data storage types within a C3D file, as there is only a single flag (the sign 
of the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:SCALE</span></span> parameter) that indicates which 
storage method is used.</p>
<p class="MsoBodyText">Since the number of frames within each C3D file is stored 
in the C3D file parameter section as <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:FRAMES</span></span>, there is no need for an 
“end-of-data” marker - data is simply written from the first frame to the last 
frame.  It is recommended that any unused storage in the final 512-byte 
block of the C3D file should be filled with 0x00h.</p>
<p class="MsoBodyText" style="PAGE-BREAK-AFTER: avoid"><img style="HEIGHT: 162pt; WIDTH: 341.3pt" border="0" src="../ImagesExt/image9_19.png" alt="" /></p>
<p class="MsoCaption" style="MARGIN-LEFT: 0pt">Figure 21 - The 3D/analog data 
storage structure.</p>
<p class="MsoBodyText">The C3D file format requires that 3D point data values, 
defined by the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:USED</span></span> parameter, will be written to 
the each frame within the <a onclick="return d2hpopup(event, this.href)" id="popup_103779" href="gloss_3ddata.htm">3D data</a> section in the order that 
they are listed in the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:LABELS</span></span> parameter section.  As a 
result, applications that access the 3D point data must determine the storage 
order and identity of the 3D points by reading the order of the point labels 
stored in the parameter section each C3D file.  The analog samples in each 
3D frame are recorded sequentially as listed by the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:LABELS</span></span> 
parameter section and defined by the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:USED</span></span> and <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:RATE</span></span> 
counts.</p>
<p class="MsoBodyText">The existence of a single point of 3D data in only one 
frame of a C3D file requires that storage space for this point be allocated in 
every single frame of the C3D file.  This can result in files with a large 
amount of wasted space if unused, short trajectories are preserved 
unnecessarily.  There is normally no need to record noise, unidentified 3D 
trajectories, brief marker appearances that have no significant value, or analog 
channels that have no valid signal or data because this fills both the 3D data 
and parameter sections with information that must be read and processed before 
being discarded by any application reading the C3D file.</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 0pt">Analog channels are <a onclick="return d2hpopup(event, this.href)" id="popup_103773" href="storedinsequence.htm">stored in sequence</a> starting with the first 
sampled analog channel, which is always channel one.  If ten analog 
channels are sampled once per 3D frame, then the ten analog values are written 
in sequence after the 3D point data, starting with channel one and ending with 
channel ten.  If there are three samples of analog data per 3D frame then 
the first ten analog samples will written in sequence, followed by the second 
set of analog samples and finally the third set of ten analog samples.  
This will be followed by the next frame of 3D data which will be followed by the 
next three sets of analog samples associated with the 3D data frame.</p>
<p class="MsoBodyText">It is worth observing here that analog channels are usually 
stored in sequence starting with the channel one.  There is no provision, 
in the C3D format, to store only <a onclick="return d2hpopup(event, this.href)" id="popup_103782" href="gloss_adc.htm">ADC</a> channels 2, 8, and 10 and identify 
them as such – in order to store channel 10 all the channels between 1 and 10 be 
stored.  However, since analog channels can be referred to by their <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:LABELS</span></span> 
assignments, there is no need to store unused analog channels if applications 
use the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:LABELS</span></span> parameter to identify 
channels instead of the physical channel number to identify the individual 
analog channels.  Thus a C3D file could store only the three channels, each 
identified by a unique <span class="ParameterChar"><span style="FONT-SIZE: 9pt">LABELS</span></span> parameter as C3D analog channels 1, 
2, and 3.  Applications would then reference each channel by its <span class="ParameterChar"><span style="FONT-SIZE: 9pt">LABELS</span></span>, not its 
original physical channel number.</p>
<p class="MsoBodyText">Both analog channels and 3D points stored within the C3D 
file format are indexed and counted from base “one” – this can occasionally lead 
to confusion when sampling data from an analog data collection system that 
counts channel “zero” as the first analog channel.  There is no “Frame 0” 
or “Analog Channel 0” in a C3D file, the first frame of 3D data is always 
counted as Frame 1 and the analog channel count always starts with Channel 
1.</p>
<p class="RelatedHead">More:</p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="3ddataintegerformat.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />3D Data - Integer Format</a></p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="3ddatafloatingpointformat.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />3D Data - Floating-point Format</a></p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="3dpointresiduals.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />3D Point Residuals</a></p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="cameracontributionmask.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />Camera Contribution Mask</a></p></div></div></body></html>
