<?xml version="1.0" encoding="utf-8"?>
<html><head><title>3D Data - Floating-point Format</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="notesforprogrammersinteger3ddata.htm"></a><a id="D2HNextAnchor" href="notesforprogrammersfloatingpoint3ddata1.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="the3dpointdatasection.htm">The 3D Point Data 
                  Section</a><span class="d2h_breadcrumbsLinkSeparator"> &gt; 
                  </span><a class="d2h_breadcrumbsNormal" href="description1.htm">Description</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h3>3D Data - Floating-point Format</h3>
<p class="MsoBodyText" style="MARGIN-LEFT: 0pt">If the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:SCALE</span></span> 
parameter is negative then the <a onclick="return d2hpopup(event, this.href)" id="popup_103803" href="gloss_3ddata.htm">3D data</a> <a onclick="return d2hpopup(event, this.href)" id="popup_103804" href="gloss_section.htm">section</a> will contain <a onclick="return d2hpopup(event, this.href)" id="popup_103798" href="scaledfloatingpointformat.htm">scaled floating-point format</a> data for 
each stored trajectory.  This format provides increased precision and, 
since the data is stored as scaled values, the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:SCALE</span></span> parameter is not used to apply 
a scaling factor to the data.  It is however used to calculate the point <a onclick="return d2hpopup(event, this.href)" id="popup_103800" href="gloss_residual.htm">residual</a> value and may be applied to the data if 
the file is converted to an <a onclick="return d2hpopup(event, this.href)" id="popup_103802" href="gloss_integer.htm">integer</a> format so it is important 
to calculate a valid <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:SCALE</span></span> factor when 3D points are 
stored as <a onclick="return d2hpopup(event, this.href)" id="popup_103799" href="gloss_floatingpoint1.htm">floating-point</a> values.  Since the 
floating-point format require eight 16-bit words to store a single <a onclick="return d2hpopup(event, this.href)" id="popup_103801" href="gloss_3dpoint.htm">3D point</a>, it will result in C3D files that are 
double the size of integer format C3D files.</p>
<p class="MsoBodyText">Please note that a valid scaling factor is always required 
as it is used in the calculation of the 3D point residual value.  It should 
be calculated, based on the maximum coordinate value and not just set to -1.</p>
<p class="MsoBodyText" style="PAGE-BREAK-AFTER: avoid"><img style="HEIGHT: 95.3pt; WIDTH: 342pt" border="0" src="../ImagesExt/image9_22.png" alt="" /></p>
<p class="MsoCaption" style="MARGIN-LEFT: 0pt">Figure 24 - 3D point data storage 
using floating-point format.</p>
<p class="MsoBodyText">The first three floating-point words record the scaled X, 
Y, and Z coordinate values of the 3D data point.  Word four is a 
floating-point value that must be converted to a signed integer and then 
interpreted as two <a onclick="return d2hpopup(event, this.href)" id="popup_103805" href="gloss_bytes.htm">bytes</a>.  The first byte stores 
which observers (normally cameras) provided information used in calculating the 
3D point, while the second byte contains the residual of the 3D point 
measurement.</p>
<p class="MsoBodyText" style="PAGE-BREAK-AFTER: avoid"><img style="HEIGHT: 48.8pt; WIDTH: 342pt" border="0" src="../ImagesExt/image9_23.png" alt="" /></p>
<p class="MsoCaption" style="MARGIN-LEFT: 0pt">Figure 25- Residual and mask 
storage – Floating-point format.</p>
<p class="MsoBodyText">The camera mask is optional but the 3D point residual is a 
measurement that, if calculated and stored correctly, provides important 
information about the relative accuracy of each individual 3D measurement 
recorded in the C3D file.  A valid residual indicates that the 3D 
coordinate is a measurement; a negative residual value indicates that the 3D 
coordinates are invalid, while a residual set to zero indicates that the 3D 
coordinate has been processed and is not the original measured value.</p>
<p class="RelatedHead">More:</p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="notesforprogrammersfloatingpoint3ddata1.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />Notes for programmers - Floating-point 3D 
Data</a></p></div></div></body></html>
