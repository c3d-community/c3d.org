<?xml version="1.0" encoding="utf-8"?>
<html><head><title>Maintaining C3D frame count compatibility</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="updatingthec3dframecount1.htm"></a><a id="D2HNextAnchor" href="integersandbytes.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="appendix.htm">Appendix</a><span class="d2h_breadcrumbsLinkSeparator"> &gt; </span><a class="d2h_breadcrumbsNormal" href="thec3dframecount.htm">The 
                  C3D frame count</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h3>Maintaining C3D frame count compatibility</h3>
<p class="MsoBodyText">When a C3D file is created, some applications may expect 
that any C3D frame count greater than 65535 is stored in either the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:LONG_FRAMES</span></span> 
parameter, or the <span class="ParameterChar"><span style="FONT-SIZE: 9pt"><a onclick="return d2hpopup(event, this.href)" id="popup_104143" href="gloss_trial.htm"><span class="ParameterChar"><span style="FONT-SIZE: 9pt">TRIAL</span></span></a>:ACTUAL_START_FIELD</span></span> 
and the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">TRIAL:ACTUAL_END_FIELD</span></span> <a onclick="return d2hpopup(event, this.href)" id="popup_104140" href="gloss_parameters.htm">parameters</a> exist with data allowing the frame 
count to be calculated.  So it may be necessary to create these parameters 
if they do not exist, although the default method should be to store all counts 
that exceed 65535 in the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:FRAMES</span></span> parameter using <a onclick="return d2hpopup(event, this.href)" id="popup_104139" href="gloss_floatingpoint1.htm">floating-point</a>.</p>
<p class="MsoBodyText">When the frame count is changed in any way it is 
recommended that the header words 4 and 5, that record the frame range of the <a onclick="return d2hpopup(event, this.href)" id="popup_104141" href="gloss_rawdata.htm">raw data</a> that created the <a onclick="return d2hpopup(event, this.href)" id="popup_104142" href="gloss_3ddata.htm">3D data</a> stored in the C3D file should not be 
changed, thus preserving the original frame range that created the C3D file.</p>
<p class="MsoBodyText">However some applications may incorrectly read these header 
values as describing the C3D file data range.  As a result, to maintain 
compatibility with some older C3D applications it may be necessary to update the 
header values to describe the range of frames currently stored in the C3D 
file.  Since the header record words are 16-bit integers they cannot store 
values greater the 65535 so if the C3D file contains more than 65535 frames, 
write the frame range as 1 to 65535 for compatibility and create the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">TRIAL</span></span> group so 
that older applications can calculate the frame count.</p>
<p class="MsoBodyText">It is recommended that all new C3D applications determine 
the frame count from the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:FRAMES</span></span> parameter, ignore the raw data 
values in the C3D file header.  It may be necessary, when creating a new 
C3D file to offer users the option of creating the both the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">POINT:LONG_FRAMES</span></span> 
parameter, and the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">TRIAL:ACTUAL_START_FIELD</span></span> and <span class="ParameterChar"><span style="FONT-SIZE: 9pt">TRIAL:ACTUAL_END_FIELD</span></span> parameters to 
support specific manufacturer’s unique C3D frame count 
environments.</p></div></div></body></html>
