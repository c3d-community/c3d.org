<?xml version="1.0" encoding="utf-8"?>
<html><head><title>ANALOG:SCALE</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><link rel="stylesheet" type="text/css" href="../Theme/nav.css" /><link rel="stylesheet" type="text/css" href="../Theme/popupmenu.css" /><link rel="stylesheet" type="text/css" href="../Theme/lf.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C1H_HTML.css" /><link rel="stylesheet" type="text/css" href="../LinksExt/C3D User Guide.css" />
<script type="text/javascript">
//<![CDATA[



var _needIndentation = false;




//]]></script>

<script language="JavaScript" src="../linker.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../special.js" type="text/JavaScript"></script>

<script language="JavaScript" src="../common.js" type="text/JavaScript"></script>

<meta name="Generator" content="ComponentOne Doc-To-Help v.2009.3.0.500" />
<meta name="D2HTheme" content="C3D v.138" />
</head>
<body onload="d2hOnLoadToolbar(event);" style="OVERFLOW: hidden; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent" relpart="../">
<script language="javascript" type="text/javascript">
//<![CDATA[



d2hTopicPreOpen();



d2hTrySyncTOC();







var prev = true;





var next = true;



if (typeof d2hInitMainThemeHandlers != "undefined")

    d2hInitMainThemeHandlers(prev, next);

d2hAdjustTopicBorders(document);    



if (typeof d2hLoadWindows != "undefined")

    d2hLoadWindows();

if (typeof d2hLoadNavUrls != "undefined")

    d2hLoadNavUrls();




//]]></script>

<div id="D2HTopicOuterBody" class="d2h_outer_topic" style="OVERFLOW: auto; HEIGHT: 100%; WIDTH: 100%; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px; BACKGROUND-COLOR: transparent">
<div id="nsbanner" class="d2hNavigatorTopic">
<div id="TitleRow" class="d2h_main_titlerow" style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px">
<div style="DISPLAY: none"><a id="D2HPreviousAnchor" href="analogunits.htm"></a><a id="D2HNextAnchor" href="calculatingscalevaluesforemgsystems.htm"></a></div>
<script language="JavaScript" type="text/JavaScript">
//<![CDATA[

var USE_FLAT_BUTTONS = true;

var BTN_SELECTED = "";

var BTN_HOVER = "";

var IS_MODERN = false;

var HAS_MARGIN_CLASSIC_BORDER = false;


//]]></script>

<div id="ienav" class="d2h_main_ienav">
<table id="tblNavigator" class="D2HTopicToolbarOuter" cellspacing="0" cellpadding="0" width="100%" border="0">
  <tbody>
  <tr class="D2HTopicToolbarOuter">
    <td class="D2HTopicToolbar" align="left">
      <table class="D2HTopicToolbar" style="MARGIN-LEFT: 4px" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td id="D2HBreadcrumbs" class="d2hCellTopic" nowrap="" caption=""><a target="right"><span class="D2HBreadcrumbsUnselected"><a class="d2h_breadcrumbsNormal" href="requiredparameters.htm">Required Parameters</a><span class="d2h_breadcrumbsLinkSeparator"> &gt; </span><a class="d2h_breadcrumbsNormal" href="theanaloggroup.htm">The 
                  ANALOG group</a><span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HBreadcrumbsUnselected" style="TEXT-DECORATION: none"> </span></td></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="center">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar"></tr></tbody></table></td>
    <td class="D2HTopicToolbar" align="right">
      <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
        <tbody>
        <tr class="D2HTopicToolbar">
          <td class="D2HTopicToolbar" nowrap=""><span class="D2HEmailUnselected" style="TEXT-DECORATION: none"> </span></td>
          <td class="D2HTopicToolbar">
            <table class="D2HTopicToolbar" cellspacing="0" cellpadding="0">
              <tbody>
              <tr class="D2HTopicToolbar">
                <td onclick="d2hCommand('D2HEmail')" id="D2HEmail" class="d2hCellTopic" nowrap=""><a href="javascript:void(0);"><span class="D2HEmailUnselected">Email<span style="TEXT-DECORATION: none"> </span></span></a></td></tr></tbody></table></td>
          <td class="D2HTopicToolbar" width="5" nowrap=""> </td></tr></tbody></table></td></tr></tbody></table></div></div>
<script language="javascript" type="text/javascript">
//<![CDATA[

if (typeof d2hProcessTopicNavForCSH != "undefined")

    d2hProcessTopicNavForCSH();


//]]></script>
</div>
<div id="nstext" class="d2h_main_nstext" style="PADDING-BOTTOM: 10px; PADDING-TOP: 5px; PADDING-LEFT: 22px; PADDING-RIGHT: 10px" valign="bottom">
<h3>ANALOG:SCALE</h3>
<p class="MsoBodyText">The individual <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> values exist to scale each 
analog data channel and are applied to the scaling calculations regardless of 
the C3D file format.  Setting both the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:GEN_SCALE</span></span> value and the individual 
<span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> value to 1.00 effectively 
removes the scaling factors from the C3D file and is normal when the recorded 
analog data values are pre-scaled and stored in a <a onclick="return d2hpopup(event, this.href)" id="popup_103966" href="gloss_floatingpoint1.htm">floating-point</a> formatted file.  Note 
that this will prevent the analog data being preserved if the C3D file format is 
ever changed from floating-point file to an <a onclick="return d2hpopup(event, this.href)" id="popup_103968" href="gloss_integer.htm">integer</a> formatted file without rescaling all of the 
data.</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 0pt">The <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> 
parameter is an array of floating-point values that are applied (together with 
the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:GEN_SCALE</span></span> parameter value) to 
convert the analog data to physical world values – normally the units described 
in the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:UNITS</span></span> parameter.  As a result, 
it is essential that each analog channel have an associated SCALE parameter 
together with an <span class="ParameterChar"><span style="FONT-SIZE: 9pt">OFFSET</span></span> parameter so that the correctly 
scaled analog values can be <a onclick="return d2hpopup(event, this.href)" id="popup_103964" href="calculated.htm">calculated</a>.  The scale 
calculation applies to both <a onclick="return d2hpopup(event, this.href)" id="popup_103969" href="gloss_real.htm">Real</a> (floating-point) and Integer 
formatted C3D files.</p>
<p class="MsoBodyText">The ANALOG:SCALE <a onclick="return d2hpopup(event, this.href)" id="popup_103967" href="gloss_parameters.htm">parameters</a> convert the analog values stored in a 
C3D file into volts measured at the <a onclick="return d2hpopup(event, this.href)" id="popup_103970" href="gloss_adc.htm">ADC</a> inputs via a simple calculation:</p>
<p class="MsoNormal" style="MARGIN: 5.75pt 0pt 6pt 144pt"><img style="HEIGHT: 33pt; WIDTH: 198pt" border="0" src="../ImagesExt/image9_30.png" alt="" /></p>
<p class="MsoBodyText">The <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:GEN_SCALE</span></span> parameter may be used to 
apply an additional uniform scale factor to all analog channels.  In these 
discussions it will be assumed that <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:GEN_SCALE</span></span> = 1.0 and therefore has no 
effect on the results although we will show it in the calculations thus:</p>
<p class="MsoNormal" style="MARGIN: 5.75pt 0pt 6pt 144pt"><img style="HEIGHT: 34.5pt; WIDTH: 334.5pt" border="0" src="../ImagesExt/image9_31.png" alt="" /></p>
<p class="MsoBodyText">The <i>ADC_range</i> is the actual input range of the ADC 
card that is used to collect the data.  This is normally ±10Volts, which 
yields an actual <i>ADC_range</i> of 20 Volts which implies that the ADC card 
can record signals over the range of 10 volts negative to 10 volts positive 
magnitude, a total range of 20 Volts.</p>
<p class="MsoBodyText">While the default <i>ADC_range</i> is normally 20 Volts, it 
is common for individual ADC channels for have the ability to select lower 
ranges by programming a fixed gain within the ADC measurement system for each 
individual analog channel.  An individual channel gain of x2 results in an 
individual <i>ADC_range</i> of 10 Volts (±5Volts) while a gain of x4 results in 
an <i>ADC_range</i> of 5 Volts (±2.5Volts).  It is best to always think of 
this change as a change in the range of acceptable ADC input voltages to avoid 
confusing the individual ADC channel gains with other external equipment 
gains.  It is very important to remember that any signal that exceeds the 
ADC input range limits will always result in a clipped signal and the loss of 
data.</p>
<p class="MsoBodyText" style="MARGIN-LEFT: 0pt">The variable <a onclick="return d2hpopup(event, this.href)" id="popup_103965" href="adcresolution.htm">ADC_resolution</a> is the total number of discrete 
measurement steps available to measure the ADC input signal, which is related to 
the ADC precision.  An ADC with 12-bit precision can report the value of 
its input with a resolution of 1 part in 212 – this translates to an 
ADC_resolution of 4096.  Thus our equation can be written:</p>
<p class="MsoNormal" style="MARGIN: 5.75pt 0pt 6pt 144pt"><img style="HEIGHT: 34.5pt; WIDTH: 214.5pt" border="0" src="../ImagesExt/image9_32.png" alt="" /></p>
<p class="MsoBodyText">In other words, when <span class="ParameterChar"><span style="FONT-SIZE: 9pt">GEN_SCALE</span></span> = 1.00 and the ADC has 12-bit 
precision (2<sup>12</sup>) and a 20Volt range, the individual <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> 
value must be 0.004883 to scale the analog data in the C3D file in volts 
measured at the ADC input.  It is worth noting that, calculated in this 
manner, the value 0.00488281 volts is the minimum change in input voltage that 
is required to increase the ADC output count by one.  This is another way 
of saying that the smallest input voltage change that we can detect and record 
(for the configuration described above) is about 0.0049 volts or 4.9mV – any 
signal change less than 4.9mV will not be recorded.  This is a limitation 
of the precision used by the ADC recording method, not something that is 
inherent in the C3D file format.</p>
<p class="MsoBodyText">There are two ways to increase the measurement sensitivity 
– either increase the measurement resolution (i.e., use a 16-bit ADC with 
2<sup>16</sup> bits of precision), or add additional amplification to the input 
signal.  Increasing the ADC precision usually means changing hardware and 
software components of the data collection system and generally affects all the 
analog channels.  This can be both expensive and technically 
challenging.  As a result, the common method of increasing measurement 
sensitivity is to add amplification to the input signal.</p>
<p class="MsoBodyText">Many modern ADC devices have the ability to internally set 
gains of x1, x2, x4, and x8 etc. on individual analog channels within the device 
itself.  The gain applied to each analog channel internally will directly 
affect the ADC_range variable for each channel.  For instance, an ADC 
channel with a nominal ±10 volt input range and an internal ADC_gain of x2 would 
have an effective input range of ±5Volts due to the additional 
amplification.  The internal ADC_gain for each individual analog channel 
can be factored into the <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> parameter thus:</p>
<p class="MsoNormal" style="MARGIN: 5.75pt 0pt 6pt 144pt"><img style="HEIGHT: 33.8pt; WIDTH: 290.3pt" border="0" src="../ImagesExt/image9_33.png" alt="" /></p>
<p class="MsoBodyText">Using the example of an ADC_gain of x2, will cause the 
<span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> parameter calculated earlier 
to be reduced by a factor of 2, thus:</p>
<p class="MsoNormal" style="MARGIN: 5.75pt 0pt 6pt 144pt"><img style="HEIGHT: 31.5pt; WIDTH: 243pt" border="0" src="../ImagesExt/image9_34.png" alt="" /></p>
<p class="MsoBodyText">In addition to the internal ADC_gain discussed above, many 
signal sources may have additional amplification that needs to be taken into 
account – for example, an electromyography system with an amplification of x5000 
would produce an output level of ±5 Volts from an input of ±1mV or ±0.001 
Volt.  This additional Gain can also be factored into the individual <span class="ParameterChar"><span style="FONT-SIZE: 9pt">ANALOG:SCALE</span></span> 
calculations as follows:</p>
<p class="MsoNormal" style="MARGIN: 5.75pt 0pt 6pt 144pt"><img style="HEIGHT: 37.5pt; WIDTH: 340.5pt" border="0" src="../ImagesExt/image9_35.png" alt="" /></p>
<p class="RelatedHead">More:</p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="calculatingscalevaluesforemgsystems.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />Calculating SCALE values for EMG 
systems</a></p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="calculatingscalevaluesforloadcells.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />Calculating SCALE values for load 
cells</a></p>
<p class="MsoNormal"><a style="TEXT-DECORATION: none" href="calculatingscalevaluesforforceplates.htm"><img border="0" alt="" src="../button.gif" align="absMiddle" />Calculating SCALE values for force 
plates</a></p></div></div></body></html>
