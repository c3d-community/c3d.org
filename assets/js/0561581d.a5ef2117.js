"use strict";(globalThis.webpackChunkc_3_d_org=globalThis.webpackChunkc_3_d_org||[]).push([[2857],{3003:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"the-3d-point-data-section/description/3d-data-integer-format/notes-for-programmers-integer-3d-data","title":"Notes for programmers - Integer 3D Data","description":"1.  Each 3D coordinate is stored as three 16-bit signed integers + the camera mask and residual.  Each of the integer values is generated by dividing the physical world coordinate by the POINTUNITS divided by 32000.  Note that adding any additional data to the stored 3D data will require that the POINT:SCALE factor is recalculated and all existing data points stored as signed integers are rescaled if any new data values exceed the existing maximum coordinate value.","source":"@site/docs/the-3d-point-data-section/description/3d-data-integer-format/notes-for-programmers-integer-3d-data.md","sourceDirName":"the-3d-point-data-section/description/3d-data-integer-format","slug":"/the-3d-point-data-section/description/3d-data-integer-format/notes-for-programmers-integer-3d-data","permalink":"/the-3d-point-data-section/description/3d-data-integer-format/notes-for-programmers-integer-3d-data","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Notes for programmers - Integer 3D Data"},"sidebar":"tutorialSidebar","previous":{"title":"3D Data - Integer Format","permalink":"/the-3d-point-data-section/description/3d-data-integer-format/"},"next":{"title":"3D Point Residuals","permalink":"/the-3d-point-data-section/description/3d-point-residuals"}}');var n=a(4848),r=a(8453);const s={title:"Notes for programmers - Integer 3D Data"},o=void 0,d={},l=[];function c(e){const t={li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Each 3D coordinate is stored as three 16-bit signed integers + the camera mask and residual.  Each of the integer values is generated by dividing the physical world coordinate by the POINT",":SCALE"," parameter which is calculated as the maximum coordinate value in POINT",":UNITS"," divided by 32000.  Note that adding any additional data to the stored 3D data will require that the POINT",":SCALE"," factor is recalculated and all existing data points stored as signed integers are rescaled if any new data values exceed the existing maximum coordinate value."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"If a point is invalid then the fourth word (camera mask and residual) will be negative and the X, Y and Z coordinate values will be ignored because the residual of -1 indicates that the point is invalid."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"If word 4 (read as a signed 16-bit integer) is positive then the point is considered a valid point and should be interpreted as described below."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Byte 1 of word 4 has seven bits that are set to \u201c1\u201d corresponding to the cameras that contributed to the measurement of the point, Bit 1 represents the first camera, bit 2 the second, etc.  By convention, all camera bits will be set to 0 if the point value has been interpolated, filtered or otherwise modified in any way.  Note that the camera bits are in the high byte of word 4 of the integer record \u2013 the most significant bit of this word is the residual sign bit.  Therefore, there are only seven bits available for the cameras.  Any point with a negative residual is interpreted as invalid - setting the 8th bit produces a negative signed integer and so the camera mask only supports seven cameras."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Byte 2 of word 4 represents the average of the residuals for the measurement of the raw data point multiplied by the POINT",":SCALE"," parameter scaling factor.  If byte 2 is zero then the 3D point is recorded as having been filtered, interpolated, or otherwise modified and is not a measured point."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Within each 3D sample, the points are stored in the order that they are listed in the parameter section followed by the analog data samples if any analog data is present."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"When a C3D file contains signed integer 3D data then any corresponding analog data values must also be stored in signed integer format."}),"\n"]}),"\n"]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>o});var i=a(6540);const n={},r=i.createContext(n);function s(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);